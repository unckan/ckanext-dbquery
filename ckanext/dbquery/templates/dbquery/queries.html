{% extends "page.html" %}

{% block subtitle %}{{ _('Executed Queries') }}{% endblock %}

{% block primary_content_inner %}
  <h1 class="page-heading">{{ _('Executed Queries') }}</h1>
  
  {% if queries %}
    <table class="table table-striped table-bordered table-condensed">
      <thead>
        <tr>
          <th>{{ _('ID') }}</th>
          <th>{{ _('User') }}</th>
          <th>{{ _('Dataset') }}</th>
          <th>{{ _('Query') }}</th>
          <th>{{ _('Timestamp') }}</th>
        </tr>
      </thead>
      <tbody>
        {% for query in queries %}
          <tr>
            <td>{{ query.id }}</td>
            <td>{{ query.user_id }}</td>
            <td>{{ query.dataset_id }}</td>
            <td><pre>{{ query.query_text }}</pre></td>
            <td>{{ h.render_datetime(query.timestamp) }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>{{ _('No executed queries found.') }}</p>
  {% endif %}
{% endblock %}
